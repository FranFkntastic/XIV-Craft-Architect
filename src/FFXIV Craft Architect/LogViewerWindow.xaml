<Window x:Class="FFXIV_Craft_Architect.LogViewerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Debug Log Viewer"
        Width="900"
        Height="700"
        WindowStartupLocation="CenterOwner"
        Background="#1e1e1e">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <!-- Toolbar -->
        <Border Grid.Row="0" Background="#2d2d2d" Padding="8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="8" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="8" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="8" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" 
                           Text="Search:" 
                           VerticalAlignment="Center"
                           Foreground="#d4d4d4"/>
                
                <TextBox Grid.Column="2"
                         x:Name="SearchTextBox"
                         Background="#1e1e1e"
                         Foreground="#d4d4d4"
                         BorderBrush="#555555"
                         Padding="4"
                         KeyDown="OnSearchKeyDown"/>
                
                <Button Grid.Column="4"
                        Content="Find"
                        MinWidth="60"
                        Height="26"
                        Click="OnFindClick"/>
                
                <Button Grid.Column="6"
                        Content="Clear"
                        MinWidth="60"
                        Height="26"
                        Click="OnClearClick"/>
            </Grid>
        </Border>
        
        <!-- Filter Options -->
        <Border Grid.Row="1" Background="#252525" Padding="8">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Show:" VerticalAlignment="Center" Foreground="#888888" Margin="0,0,8,0"/>
                <CheckBox x:Name="ShowDebugCheck" Content="Debug" IsChecked="True" Foreground="#888888" Margin="0,0,12,0" Click="OnFilterChanged"/>
                <CheckBox x:Name="ShowInfoCheck" Content="Info" IsChecked="True" Foreground="#4ecdc4" Margin="0,0,12,0" Click="OnFilterChanged"/>
                <CheckBox x:Name="ShowWarningCheck" Content="Warning" IsChecked="True" Foreground="#f38181" Margin="0,0,12,0" Click="OnFilterChanged"/>
                <CheckBox x:Name="ShowErrorCheck" Content="Error" IsChecked="True" Foreground="#ff6b6b" Margin="0,0,24,0" Click="OnFilterChanged"/>
                <CheckBox x:Name="AutoScrollCheck" Content="Auto-scroll" IsChecked="True" Foreground="#888888" Margin="0,0,12,0"/>
                <CheckBox x:Name="WordWrapCheck" Content="Wrap" IsChecked="True" Foreground="#888888" Click="OnWordWrapChanged"/>
            </StackPanel>
        </Border>
        
        <!-- Log Content -->
        <Border Grid.Row="2" Background="#1e1e1e" Margin="0">
            <RichTextBox x:Name="LogRichTextBox"
                        FontFamily="Consolas"
                        FontSize="11"
                        Background="#1e1e1e"
                        Foreground="#d4d4d4"
                        BorderThickness="0"
                        Padding="10"
                        IsReadOnly="True"
                        IsReadOnlyCaretVisible="True"
                        VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Auto"/>
        </Border>
        
        <!-- Status Bar -->
        <Border Grid.Row="3" Background="#2d2d2d" Padding="8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="4" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="8" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="8" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0"
                          x:Name="StatusTextBlock"
                          Text="Ready"
                          Foreground="#888888"
                          VerticalAlignment="Center"/>
                
                <TextBox Grid.Column="1"
                         x:Name="GoToLineTextBox"
                         Width="60"
                         Height="22"
                         Background="#1e1e1e"
                         Foreground="#d4d4d4"
                         BorderBrush="#555555"
                         ToolTip="Go to line number (Ctrl+G)"
                         KeyDown="OnGoToLineKeyDown"/>
                
                <Button Grid.Column="3"
                        Content="Go"
                        MinWidth="40"
                        Height="22"
                        Click="OnGoToLineClick"
                        ToolTip="Jump to line number"/>
                
                <Button Grid.Column="5"
                        Content="Export"
                        MinWidth="80"
                        Height="26"
                        Click="OnExportClick"/>
                
                <Button Grid.Column="7"
                        Content="Refresh"
                        MinWidth="80"
                        Height="26"
                        Click="OnRefresh"/>
            </Grid>
        </Border>
    </Grid>
</Window>
